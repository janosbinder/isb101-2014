<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title> UNIX Tutorial Two </title>
<link href="unixtut1.css" rel="stylesheet" type="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<meta name="Copyright" content="Michael Stonebank, 1995" />
</head>
<body>
<h1>UNIX Tutorial Two </h1>

<h2>2.1 Copying Files</h2>

<h3><samp>cp</samp> (copy)</h3>
<p> <code>cp <var>file1 file2</var></code> is the command which makes a copy of 
  <strong>file1</strong> in the current working directory and calls it <strong>file2</strong> 
</p>
<p> What we are going to do now, is to take a file stored in the tutorial area 
  of the file system, and use the <samp>cp</samp> command to copy it to your unixstuff 
  directory. </p>
<p> First, <samp>cd</samp> to your unixstuff directory.</p>
<p class="command"> % cd ~/unixstuff</p>
<p> Then at the UNIX prompt, type, </p>
<p class="command"> % cp ~/unixtut/media/tutorial_R1_001.fa . </p>
<p> (Note: Don't forget the dot (<samp>.</samp>) at the end. Remember, in UNIX, 
  the dot means the current directory.) </p>
<p> The above command means copy the file <strong>tutorial_R1_001.fa</strong> to the 
  current directory, keeping the name the same. </p>

<h3>Exercise 2a</h3>
<p>Create a backup of your <strong>tutorial_R1_001.fa</strong> file by copying it to 
  a file called <strong>tutorial_R1_001.fa.bak</strong> </p>

<h2>2.2 Moving files</h2>
<h3><samp>mv</samp> (move)</h3>
<p><code>mv <var>file1 file2</var></code> moves (or renames) <strong>file1</strong> 
  to <strong>file2</strong> </p>
<p> To move a file from one place to another, use the <samp>mv</samp> command. 
  This has the effect of moving rather than copying the file, so you end up with 
  only one file rather than two. </p>
<p> It can also be used to rename a file, by moving the file to the same directory, 
  but giving it a different name. </p>
<p> We are now going to move the file science.bak to your backup directory. </p>
<p>First, change directories to your unixstuff directory (can you remember how?). 
  Then, inside the <strong>unixstuff</strong> directory, type</p>
<p class="command"> % mv tutorial_R1_001.fa.bak backups/.</p>
<p> Type <code>ls</code> and <code>ls backups</code> to see if it has worked. 
</p>

<h2>2.3 Removing files and directories </h2>
<h3><samp>rm</samp> (remove), <samp>rmdir</samp> (remove directory)</h3>
<p>To delete (remove) a file, use the <code>rm</code> command. As an example, 
  we are going to create a copy of the <strong>tutorial_R1_001.fa</strong> file then 
  delete it. </p>
<p> Inside your <strong>unixstuff</strong> directory, type</p>
<p class="command"> % cp tutorial_R1_001.fa tempfile.txt<br />
  % ls (to check if it has created the file)<br />
  % rm tempfile.txt <br />
  % ls (to check if it has deleted the file) </p>
<p> You can use the <code>rmdir</code> command to remove a directory (make sure 
  it is empty first). Try to remove the <strong>backups</strong> directory. You 
  will not be able to since UNIX will not let you remove a non-empty directory.</p>
<p class="hint">NOTE: <code>rm -R</code> also removes a directory.</p>
<p class="hint">NOTE: <code>rm</code> removes permanently a file or a directory. Therefore, it
is, especially for newcomers, better to use it like this <code>rm -i</code>. You can even set 
up an <samp>alias</samp>: <code>alias rm="rm -i"</code>.</p>
<p>&nbsp;</p>
<h3>Exercise 2b</h3>
<p>Create a directory called <strong>tempstuff</strong> using <samp>mkdir</samp> 
  , then remove it using the <samp>rmdir</samp> command.</p>

<h2>2.4 Displaying the contents of a file on the screen </h2>
<h3><samp>clear</samp> (clear screen)</h3>
<p>Before you start the next section, you may like to clear the terminal window 
  of the previous commands so the output of the following commands can be clearly 
  understood. </p>
<p> At the prompt, type </p>
<p class="command"> % clear </p>
<p> This will clear all text and leave you with the % prompt at the top of the 
  window. </p>
<h3><samp>cat</samp> (concatenate)</h3>
<p>The command <code>cat</code> can be used to display the contents of a file 
  on the screen. Type: </p>
<p class="command"> % cat tutorial_R1_001.fa </p>
<p> As you can see, the file is longer than than the size of the window, so it 
  scrolls past making it unreadable. </p>
<p class="hint">NOTE: <strong>tutorial_R1_001.fa</strong> is a <strong>FASTA</strong> file. 
Each entry in the <strong>FASTA</strong> file starts with the <strong>FASTA</strong> symbol
 <samp></samp> indicating a new sequence record followed by the 
sequence identifier and the sequence. More on the <strong>FASTA</strong> file format you 
can find <a href="http://en.wikipedia.org/wiki/FASTA_format">here</a>.</p>
<h3><samp>less</samp></h3>
<p>The command <code>less</code> writes the contents of a file onto the screen 
  a page at a time. Type </p>
<p class="command"> % less tutorial_R1_001.fa </p>
<p> Press the <code>[space-bar]</code> if you want to see another page, type <code>[q]</code> 
  if you want to quit reading. As you can see, <code>less</code> is used in preference 
  to <code>cat</code> for long files. </p>

<h3><samp>head</samp></h3>
<p>The <code>head</code> command writes the first ten lines of a file to the screen. 
</p>
<p> First <code>clear</code> the screen then type </p>
<p class="command"> % head tutorial_R1_001.fa </p>
<p> Then type </p>
<p class="command"> % head -n 5 tutorial_R1_001.fa </p>
<p> What difference did the '-n 5' do to the head command? </p>
<h3><samp>tail</samp></h3>
<p>The <code>tail</code> command writes the last ten lines of a file to the screen. 
</p>
<p> <code>clear</code> the screen and type </p>
<p class="command"> % tail tutorial_R1_001.fa </p>
<p> How can you view the last 15 lines of the file? </p>

<h2>2.5 Searching the contents of a file </h2>
<h3>Simple searching using <samp>less</samp></h3>
<p>Using <code>less</code>, you can search though a text file for a keyword (pattern). 
  For example, to search through <strong>tutorial_R1_001.fa</strong> for the word 'CAGGTTTATGG', 
  type </p>
<p class="command"> % less tutorial_R1_001.fa </p>
<p> then, still in <code>less</code> (i.e. don't press [q] to quit), type a forward 
  slash <code>[/]</code> followed by the word to search</p>
<p class="command"> /CAGGTTTATGG</p>
<p> As you can see, <code>less</code> finds and highlights the keyword. Type <code>[n]</code> 
  to search for the next occurrence of the word. </p>

<h3><samp>grep</samp> (don't ask why it is called grep)</h3>
<p><code>grep</code> is one of many standard UNIX utilities. It searches files 
  for specified words or patterns. First clear the screen, then type </p>
<p class="command"> % grep CAGGTTTATGG tutorial_R1_001.fa </p>
<p> As you can see, <code>grep</code> has printed out each line containg the word 
  'CAGGTTTATGG'. </p>
<p class="hint">NOTE: <code>grep</code> is case sensitive, it distinguishes between
'CAGGTTTATGG' and 'CAGGTTTATGg'. To ignore upper/lower case distinctions, use the <code>-i</code> option.</p>
<p> To search for a phrase or pattern, you must enclose it in single quotes (the 
  apostrophe symbol). For example to search for spinning top, type </p>
<p class="command"> % grep -i '43 1' tutorial_R1_001.fa </p>
<p> Some of the other options of grep are: </p>
<p> <code>-v</code> display those lines that do NOT match <br />
  <code>-n</code> precede each maching line with the line number <br />
  <code>-c</code> print only the total count of matched lines. <br />
</p>
<p> Try some of them and see the different results. Don't forget, you can use 
  more than one option at a time, for example, the number of lines without the 
  words science or Science is</p>
<p class="command"> % grep -vc SEA055491C tutorial_R1_001.fa </p>

<h3><samp>wc</samp> (word count)</h3>
<p>A handy little utility is the <code>wc</code> command, short for word count. 
  To do a word count on <strong>tutorial_R1_001.fa</strong>, type </p>
<p class="command"> % wc -w tutorial_R1_001.fa </p>
<p> To find out how many lines the file has, type </p>
<p class="command"> % wc -l tutorial_R1_001.fa </p>
<h2>Summary </h2>
<table border="1" align="center" cellpadding="3" cellspacing="0">
  <tr> 
    <td><code>cp <var>file1 file2</var></code></td>
    <td>copy file1 and call it file2</td>
  </tr>
  <tr> 
    <td><code>mv <var>file1 file2</var></code></td>
    <td>move or rename file1 to file2</td>
  </tr>
  <tr> 
    <td><code>rm <var>file</var></code></td>
    <td>remove a file</td>
  </tr>
  <tr> 
    <td><code>rmdir <var>directory</var></code></td>
    <td>remove a directory</td>
  </tr>
  <tr> 
    <td><code>cat <var>file</var></code></td>
    <td>display a file</td>
  </tr>
  <tr> 
    <td><code>more <var>file</var></code></td>
    <td>display a file a page at a time</td>
  </tr>
  <tr> 
    <td><code>head <var>file</var></code></td>
    <td>display the first few lines of a file</td>
  </tr>
  <tr> 
    <td><code>tail <var>file</var></code></td>
    <td>display the last few lines of a file</td>
  </tr>
  <tr> 
    <td><code>grep <var>'keyword' file</var></code></td>
    <td>search a file for keywords</td>
  </tr>
  <tr> 
    <td><code>wc <var>file</var></code></td>
    <td>count number of lines/words/characters in file</td>
  </tr>
</table>
<p>&nbsp;</p>
<p class="navbar"><a href="unix1.html"><img src="media/left.gif" alt="Previous" width="37" height="39" border="0" /></a> 
  <a href="index.html"><img src="media/home.gif" alt="Home" width="81" height="39" border="0" /></a><a href="unix3.html"><img src="media/right.gif" alt="Next" width="37" height="39" border="0" /></a> 
</p>
<p class="date">adapted from M.Stonebank@surrey.ac.uk, &copy; 9th October 2000, abused by Patrick.May@uni.lu, March 2014 </p>
</body>
</html>
